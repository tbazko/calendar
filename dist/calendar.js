!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a)}return e(a,null,[{key:"dayNames",value:function(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},{key:"shortDayNames",value:function(){return["SU","MO","TU","WE","TH","FR","SA"]}},{key:"monthNames",value:function(){return["January","February","March","April","May","June","July","August","September","October","November","December"]}},{key:"shortMonthNames",value:function(){return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}},{key:"getDayName",value:function(a){var b=this.dayNames(),c=this.shortDayNames();return{name:b[a],shortName:c[a]}}},{key:"getMonthName",value:function(a){var b=this.monthNames(),c=this.shortMonthNames();return{name:b[a],shortName:c[a]}}},{key:"todayUTC",value:function a(){var b=new Date,c=b.getMonth();b.setHours(0);var a=new Date(Date.UTC(b.getFullYear(),b.getMonth(),b.getDate()));return a.monthName=this.getMonthName(c).name,a}},{key:"getDaysInMonth",value:function(a,b){return new Date(b,a+1,0).getDate()}}]),a}();b.exports=f},{}],2:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("./MonthPresenter"),g=function(){function a(){d(this,a),this.calendarClass=f}return e(a,[{key:"createCalendar",value:function(a){switch(a.type){case"year":this.calendarClass="Year";break;case"month":this.calendarClass=f}return new this.calendarClass(window.document)}}]),a}();b.exports=g},{"./MonthPresenter":7}],3:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("./CalendarAPI"),g=function(){function a(){d(this,a),this._observerList=[]}return e(a,[{key:"totalDaysInMonth",value:function(a,b){return f.getDaysInMonth(a,b)}},{key:"getShortDayNames",value:function(){return f.shortDayNames()}},{key:"addObserver",value:function(a){"function"==typeof a&&this._observerList.push(a)}},{key:"notifyObservers",value:function(a){this._observerList.forEach(function(b){b(a)})}},{key:"today",get:function(){return f.todayUTC()}}]),a}();b.exports=g},{"./CalendarAPI":1}],4:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=(a("./CalendarModel"),a("./CalendarView"),function a(b){d(this,a),this.document=b});b.exports=e},{"./CalendarModel":3,"./CalendarView":5}],5:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(b){d(this,a),this.document=b}return e(a,[{key:"declareViewElements",value:function(){this.calendar=document.getElementById("mvp-calendar"),this.nextMonth=document.getElementById("next-month"),this.prevMonth=document.getElementById("prev-month"),this.calendarSelectedMonth=document.getElementById("calendar-selected-month"),this.todayTrigger=document.getElementById("calendar-button-today")}}]),a}();b.exports=f},{}],6:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=a("./CalendarModel"),i=a("./CalendarAPI"),j=function(a){function b(){d(this,b);var a=e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return a._currentMonth={month:a.today.getMonth(),year:a.today.getFullYear(),monthName:a.today.monthName},a.monthToShow={month:a._currentMonth.month,year:a._currentMonth.year},a}return f(b,a),g(b,[{key:"_changeMonth",value:function(a){var b=this.monthToShow,c=new Date(b.year,b.month+a,1);return b={month:c.getMonth(),year:c.getFullYear(),monthName:i.getMonthName(c.getMonth()).name}}},{key:"_generateDates",value:function(a,b,c,d){for(var e=[],f=this.today.getTime(),g=a;g<=b;g++){var h=new Date(Date.UTC(d,c,g)).getTime();e.push({date:g,timestampUTC:h,isToday:f===h})}return e}},{key:"monthToShow",set:function(a){var b=a.year===this._currentMonth.year,c=a.month===this._currentMonth.month;this._monthToShow={month:a.month,year:a.year,monthName:i.getMonthName(a.month).name},this.notifyObservers({isCurrentMonth:b&&c})},get:function(){return this._monthToShow}},{key:"currentMonth",get:function(){return this._currentMonth}},{key:"prevMonth",get:function(){return this._changeMonth(-1)}},{key:"nextMonth",get:function(){return this._changeMonth(1)}},{key:"allDatesOfWeeks",get:function(){return this.monthToShow,[].concat(this.prevMonthDatesLeftover,this.allDatesOfMonth,this.datesLastWeekLeftover)}},{key:"prevMonthDatesLeftover",get:function(){var a=this.monthToShow,b=new Date(a.year,a.month,1).getDay(),c=[];if(0!=b)var d=this.prevMonth,e=this.totalDaysInMonth(d.month,d.year),f=e-b+1,c=this._generateDates(f,e,d.month,d.year);return c}},{key:"allDatesOfMonth",get:function(){var a=this.monthToShow,b=this.totalDaysInMonth(a.month,a.year);return this._generateDates(1,b,a.month,a.year)}},{key:"datesLastWeekLeftover",get:function(){var a=this.monthToShow,b=this.totalDaysInMonth(a.month,a.year),c=new Date(a.year,a.month,b).getDay(),d=[];if(6!=c)var e=this.nextMonth,f=6-c,d=this._generateDates(1,f,e.month,e.year);return d}}]),b}(h);b.exports=j},{"./CalendarAPI":1,"./CalendarModel":3}],7:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=a("./MonthModel"),i=a("./MonthView"),j=a("./CalendarPresenter"),k=function(a){function b(a){d(this,b);var c=e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.model=c._createMonthModel(),c.view=c._createMonthView(c.document),c.init(),c}return f(b,a),g(b,[{key:"init",value:function(){this.view.declareViewElements(),this._bindEvents(),this._renderView()}},{key:"currentMonth",value:function(){this.model.monthToShow=this.model.currentMonth}},{key:"setClassesOnElements",value:function(a,b,c){for(var d=0,e=b.length;d<e;d++)this.view.setClassOnElement(a,b[d],c)}},{key:"setClassOnElement",value:function(a,b,c){this.view.setClassOnElement(a,b,c)}},{key:"removeClassesOnElements",value:function(a,b){for(var c=0,d=b.length;c<d;c++)this.view.removeClassesOnElement(a,b[c])}},{key:"nextMonth",value:function(){this.model.monthToShow=this.model.nextMonth}},{key:"prevMonth",value:function(){this.model.monthToShow=this.model.prevMonth}},{key:"_bindEvents",value:function(){this.view.nextMonth.addEventListener("click",this.nextMonth.bind(this),!1),this.view.prevMonth.addEventListener("click",this.prevMonth.bind(this),!1),this.view.todayTrigger.addEventListener("click",this.currentMonth.bind(this),!1),this.model.addObserver(this._renderView.bind(this))}},{key:"_createMonthModel",value:function(){return new h}},{key:"_createMonthView",value:function(){return new i(this.document)}},{key:"_renderView",value:function(){var a=this.document.createDocumentFragment(),a=this._getShortDayNamesFragment(a),a=this._getDatesFragment(a);this.view.render(this.model.monthToShow,a)}},{key:"_getShortDayNamesFragment",value:function(a){for(var b,c=this.model.getShortDayNames(),d=0,e=c.length;d<e;d++)b=this.document.createElement("div"),b.textContent=c[d],a.appendChild(b);return a}},{key:"_getDatesFragment",value:function(a){for(var b,c=this.model.allDatesOfWeeks,d=0,e=c.length;d<e;d++)b=this.document.createElement("div"),b.id=c[d].timestampUTC,b.textContent=c[d].date,c[d].isToday&&b.setAttribute("class","is-today"),a.appendChild(b);return a}}]),b}(j);b.exports=k},{"./CalendarPresenter":4,"./MonthModel":6,"./MonthView":8}],8:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=a("./CalendarView"),i=function(a){function b(a){return d(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a))}return f(b,a),g(b,[{key:"render",value:function(a,b){var c=(a.month,a.year);this.setMonthText(a.monthName,c),this.calendarContent&&this.calendar.removeChild(this.calendarContent),this.calendarContent=this.document.createElement("div"),this.calendarContent.setAttribute("class","calendar-content"),this.calendar.appendChild(this.calendarContent),this.calendarContent.appendChild(b)}},{key:"setMonthText",value:function(a,b){this.calendarSelectedMonth.textContent=a+" "+b}},{key:"setClassOnElement",value:function(a,b,c){var d=this.document.getElementById(b);d?d.className+=" "+a:c()}},{key:"removeClassesOnElement",value:function(a,b){var c=new RegExp("(?:^|\\s)"+a+"(?!\\S)","gi"),d=this.document.getElementById(b);d&&(d.className=d.className.replace(c,""))}}]),b}(h);b.exports=i},{"./CalendarView":5}]},{},[1,2,3,4,5,6,7,8]);