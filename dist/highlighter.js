!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a)}return e(a,null,[{key:"dayNames",value:function(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},{key:"shortDayNames",value:function(){return["SU","MO","TU","WE","TH","FR","SA"]}},{key:"monthNames",value:function(){return["January","February","March","April","May","June","July","August","September","October","November","December"]}},{key:"shortMonthNames",value:function(){return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}},{key:"getDayName",value:function(a){var b=this.dayNames(),c=this.shortDayNames();return{name:b[a],shortName:c[a]}}},{key:"getMonthName",value:function(a){var b=this.monthNames(),c=this.shortMonthNames();return{name:b[a],shortName:c[a]}}},{key:"todayUTC",value:function a(){var b=new Date,c=b.getMonth();b.setHours(0);var a=new Date(Date.UTC(b.getFullYear(),b.getMonth(),b.getDate()));return a.monthName=this.getMonthName(c).name,a}},{key:"getDaysInMonth",value:function(a,b){return new Date(b,a+1,0).getDate()}}]),a}();b.exports=f},{}],2:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("./../calendar/CalendarAPI"),g=a("./ModelStates/DayState"),h=function(){function a(b){d(this,a),this._currentState=new g(this),this._direction=0}return e(a,[{key:"resetDatesToDefault",value:function(){this.currentState.resetDatesToDefault()}},{key:"currentState",set:function(a){this._currentState=a},get:function(){return this._currentState}},{key:"today",get:function(){return f.todayUTC()}},{key:"firstDayStamp",get:function(){return this.currentState.firstDayStamp}},{key:"lastDayStamp",get:function(){return this.currentState.lastDayStamp}},{key:"highlightRangeStamps",get:function(){return{firstDayStamp:this.currentState.firstDayStamp,lastDayStamp:this.currentState.lastDayStamp}}},{key:"rangeDescription",get:function(){return this.currentState.rangeDescription}},{key:"direction",get:function(){return this._direction},set:function(a){this._direction=a,this.currentState._changeDatesRange()}}]),a}();b.exports=h},{"./../calendar/CalendarAPI":1,"./ModelStates/DayState":5}],3:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("./HighlighterModel"),g=a("./HighlighterView"),h=a("./ModelStates/DayState"),i=a("./ModelStates/WeekState"),j=a("./ModelStates/MonthState"),k=a("./ModelStates/LastDaysState"),l=function(){function a(b){d(this,a),this.document=b,this.model=new f(h),this.view=new g(this.document)}return e(a,[{key:"connectTo",value:function(a){this.calendar=a,this.init()}},{key:"init",value:function(){this.view.declareViewElements(),this.bindEvents(),this.bindCalendarEvents(),this.highlightCalendar(),this.renderView(this.view.dayViewTrigger)}},{key:"removeHighlight",value:function(){this.calendar.removeClassesOnElements("is-highlighted-first",[this.model.firstDayStamp,this.model.lastDayStamp,this.calendar.model.allDatesOfWeeks[0].timestampUTC]),this.calendar.removeClassesOnElements("is-highlighted-last",[this.model.firstDayStamp,this.model.lastDayStamp])}},{key:"highlightCalendar",value:function(a){a&&a.isCurrentMonth&&this.model.resetDatesToDefault();var b=this.model.firstDayStamp,c=this.model.lastDayStamp,d=this.calendar.model.allDatesOfWeeks,e=d[0].timestampUTC,f=d[d.length-1].timestampUTC,g=this.isDateInCurrentView(c,e,f);this.calendar.setClassOnElement("is-highlighted-first",b,function(){1===this.model.direction?this.moveToMonthOfStamp(b):g&&this.calendar.setClassOnElement("is-highlighted-first",e,function(){return!1})}.bind(this)),this.calendar.setClassOnElement("is-highlighted-last",c,function(){this.model.direction===-1&&this.moveToMonthOfStamp(c)}.bind(this)),this.model.direction=0}},{key:"isDateInCurrentView",value:function(a,b,c){return a>b&&a<c}},{key:"moveToMonthOfStamp",value:function(a){this.model.direction=0;var a=new Date(a);this.calendar.model.monthToShow={month:a.getMonth(),year:a.getFullYear()}}},{key:"renderView",value:function(a){this.view.render(a,this.model.rangeDescription)}},{key:"bindEvents",value:function(){this.view.dayViewTrigger.addEventListener("click",this.onViewTriggerClick.bind(this,h),!1),this.view.weekViewTrigger.addEventListener("click",this.onViewTriggerClick.bind(this,i),!1),this.view.monthViewTrigger.addEventListener("click",this.onViewTriggerClick.bind(this,j),!1),this.view.prevDatesRangeTrigger.addEventListener("click",this.onDatesRangeClick.bind(this,-1),!1),this.view.nextDatesRangeTrigger.addEventListener("click",this.onDatesRangeClick.bind(this,1),!1);for(var a=0;a<this.view.lastDaysViewTriggers.length;a++)this.view.lastDaysViewTriggers[a].addEventListener("click",this.onViewTriggerClick.bind(this,k),!1)}},{key:"bindCalendarEvents",value:function(){this.calendar.model.addObserver(this.highlightCalendar.bind(this))}},{key:"onDatesRangeClick",value:function(a){this.removeHighlight(),this.model.direction=a,this.view.setRangeDescription(this.model.rangeDescription),this.highlightCalendar()}},{key:"onViewTriggerClick",value:function(a,b){var c=b.target||b.currentTarget,d=c.getAttribute("data-days-count"),e=d?new a(this.model,d):new a(this.model);this.model.currentState!=e&&(this.removeHighlight(),this.model.currentState=e,this.renderView(c),this.moveToMonthOfStamp(this.model.today.getTime()))}}]),a}();b.exports=l},{"./HighlighterModel":2,"./HighlighterView":4,"./ModelStates/DayState":5,"./ModelStates/LastDaysState":6,"./ModelStates/MonthState":7,"./ModelStates/WeekState":8}],4:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(b){d(this,a),this.document=b}return e(a,[{key:"declareViewElements",value:function(){this.dayViewTrigger=document.getElementById("dayView"),this.weekViewTrigger=document.getElementById("weekView"),this.monthViewTrigger=document.getElementById("monthView"),this.lastDaysViewTriggers=document.getElementsByClassName("js-lastDaysView"),this.prevDatesRangeTrigger=document.getElementById("prev-dates-range"),this.nextDatesRangeTrigger=document.getElementById("next-dates-range"),this.rangeDescription=document.getElementById("js-rangeDescription"),this.currentStateNameElem=document.getElementById("calendar-view-type")}},{key:"render",value:function(a,b){this.setRangeTitle(a),this.setRangeDescription(b)}},{key:"setRangeTitle",value:function(a){this.currentStateNameElem.textContent=a.textContent,this.deactivateOtherStateNames(a),this.addClass(a,"is_selected")}},{key:"setRangeDescription",value:function(a){this.rangeDescription.textContent=a}},{key:"deactivateOtherStateNames",value:function(a){for(var b=a.parentNode.children,c=0;c<b.length;c++)this.removeClass(b[c],"is_selected")}},{key:"addClass",value:function(a,b){var c=a.className;c.indexOf(b)==-1&&(""!=c&&(b=" "+b),a.className=c+b)}},{key:"removeClass",value:function(a,b){var c=new RegExp("(?:^|\\s)"+b+"(?!\\S)","gi");a.className=a.className.replace(c,"")}}]),a}();b.exports=f},{}],5:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("./../../calendar/CalendarAPI"),g=function(){function a(b){d(this,a),this.model=b,this._firstDayStamp=this.model.today.getTime(),this._lastDayStamp=this.model.today.getTime()}return e(a,[{key:"_changeDatesRange",value:function(){this.firstDayStamp=this.firstDayStamp+864e5*this.model.direction,this.lastDayStamp=this.firstDayStamp}},{key:"resetDatesToDefault",value:function(){this.firstDayStamp=this.model.today.getTime(),this.lastDayStamp=this.model.today.getTime()}},{key:"rangeDescription",get:function(){var a=new Date(this.firstDayStamp),b=f.getDayName(a.getDay()).name,c=f.getMonthName(a.getMonth()).name;return b+", "+c+" "+a.getDate()+", "+a.getFullYear()}},{key:"firstDayStamp",get:function(){return this._firstDayStamp},set:function(a){this._firstDayStamp=a}},{key:"lastDayStamp",get:function(){return this._lastDayStamp},set:function(a){this._lastDayStamp=a}}]),a}();b.exports=g},{"./../../calendar/CalendarAPI":1}],6:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("./../../calendar/CalendarAPI"),g=function(){function a(b,c){d(this,a),this.model=b,this.daysCount=c,this._setFirstAndLastDay(this.model.today)}return e(a,[{key:"_changeDatesRange",value:function(){var a=this.firstDay,b=this.lastDay,c=this.model.direction;this.firstDay=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate()+this.daysCount*c)),this.lastDay=new Date(Date.UTC(b.getFullYear(),b.getMonth(),b.getDate()+this.daysCount*c))}},{key:"resetDatesToDefault",value:function(){this._setFirstAndLastDay(this.model.today)}},{key:"_setFirstAndLastDay",value:function(a){var b=a.getFullYear(),c=a.getMonth();this.firstDay=new Date(Date.UTC(b,c,a.getDate()-this.daysCount)),this.lastDay=new Date(Date.UTC(b,c,a.getDate()-1))}},{key:"rangeDescription",get:function(){var a=this.firstDay,b=this.lastDay;return f.getMonthName(a.getMonth()).shortName+" "+a.getDate()+" - "+f.getMonthName(b.getMonth()).shortName+" "+b.getDate()+", "+b.getFullYear()}},{key:"firstDay",set:function(a){this._firstDay=a},get:function(){return this._firstDay}},{key:"lastDay",set:function(a){this._lastDay=a},get:function(){return this._lastDay}},{key:"firstDayStamp",get:function(){return this.firstDay.getTime()}},{key:"lastDayStamp",get:function(){return this.lastDay.getTime()}}]),a}();b.exports=g},{"./../../calendar/CalendarAPI":1}],7:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("./../../calendar/CalendarAPI"),g=function(){function a(b){d(this,a),this.model=b,this._setFirstAndLastDay(this.model.today)}return e(a,[{key:"_changeDatesRange",value:function(){var a,b=this.firstDay.getFullYear(),c=this.firstDay.getMonth(),d=this.model.direction;a=d?new Date(b,c+d,1):this.model.today,this._setFirstAndLastDay(a)}},{key:"resetDatesToDefault",value:function(){this._setFirstAndLastDay(this.model.today)}},{key:"_setFirstAndLastDay",value:function(a){var b=a.getFullYear(),c=a.getMonth();this.firstDay=new Date(Date.UTC(b,c,1)),this.lastDay=new Date(Date.UTC(b,c,f.getDaysInMonth(c,b)))}},{key:"rangeDescription",get:function(){var a=this.firstDay,b=f.getMonthName(a.getMonth()).name;return b+", "+a.getFullYear()}},{key:"firstDay",set:function(a){this._firstDay=a},get:function(){return this._firstDay}},{key:"lastDay",set:function(a){this._lastDay=a},get:function(){return this._lastDay}},{key:"firstDayStamp",get:function(){return this.firstDay.getTime()}},{key:"lastDayStamp",get:function(){return this.lastDay.getTime()}}]),a}();b.exports=g},{"./../../calendar/CalendarAPI":1}],8:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("./../../calendar/CalendarAPI"),g=function(){function a(b){d(this,a),this.model=b,this._setFirstAndLastDay(this.model.today.getTime())}return e(a,[{key:"_changeDatesRange",value:function(){var a=6048e5,b=this.model.direction;this.firstDay=new Date(this.firstDayStamp+a*b),this.lastDay=new Date(this.lastDayStamp+a*b)}},{key:"resetDatesToDefault",value:function(){this._setFirstAndLastDay(this.model.today.getTime())}},{key:"_setFirstAndLastDay",value:function(a){var b=new Date(a).getDay();this.firstDay=new Date(a-86400*b*1e3),this.lastDay=new Date(this.firstDay.getTime()+5184e5)}},{key:"rangeDescription",get:function(){var a=this.firstDay,b=this.lastDay;return f.getMonthName(a.getMonth()).shortName+" "+a.getDate()+" - "+f.getMonthName(b.getMonth()).shortName+" "+b.getDate()+", "+b.getFullYear()}},{key:"firstDay",set:function(a){this._firstDay=a},get:function(){return this._firstDay}},{key:"lastDay",set:function(a){this._lastDay=a},get:function(){return this._lastDay}},{key:"firstDayStamp",get:function(){return this.firstDay.getTime()}},{key:"lastDayStamp",get:function(){return this.lastDay.getTime()}}]),a}();b.exports=g},{"./../../calendar/CalendarAPI":1}]},{},[2,3,4]);